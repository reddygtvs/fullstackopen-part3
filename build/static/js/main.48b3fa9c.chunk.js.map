{"version":3,"sources":["Person.js","PersonForm.js","Filter.js","services/persons.js","Notification.js","Footer.js","App.js","index.js"],"names":["Person","person","class","name","number","id","PersonForm","addNote","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","filterName","handleFilterChange","baseUrl","axios","get","then","response","data","noteObject","post","delete","put","Notification","message","tip","className","Footer","href","target","rel","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterName","setMessage","setTip","useEffect","console","log","personService","filterItems","filter","toLowerCase","includes","event","preventDefault","find","note","window","confirm","map","setTimeout","catch","error","length","onClick","nameCurrent","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.48b3fa9c.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Person = ({ person }) => {\n  return (\n    <div class=\"arr\">\n      <li key={person.id}>\n        {person.name} {person.number}\n      </li>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from 'react'\n\nconst PersonForm = ({addNote, newName, newNumber, handleNameChange, handleNumberChange}) => { \n    \n    return (\n        <form onSubmit={addNote}>\n        <div>\n          name: <input value={newName} \n          onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNumber}\n          onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm\n","import React from \"react\"\n\nconst Filter = ({filterName, handleFilterChange}) => {\n    return (\n        <form>\n            <div>\n                filter shown with: <input value={filterName}\n                onChange={handleFilterChange} />\n            </div>\n        </form>\n    )\n    \n}\n\nexport default Filter","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (noteObject) => {\n  const request = axios.post(baseUrl, noteObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, noteObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, noteObject);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import \"./App.css\";\nconst Notification = ({ message, tip }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className={tip}>{message}</div>;\n};\n\nexport default Notification;\n","const Footer = () => {\n  return (\n    <footer className=\"Footer\">\n      <a\n        id=\"footer\"\n        href=\"https://tusharreddy.com\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        $Source | 2023 - 2024\n      </a>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React, { useState, useEffect } from \"react\";\nimport Person from \"./Person\";\nimport PersonForm from \"./PersonForm\";\nimport Filter from \"./Filter\";\nimport personService from \"./services/persons\";\nimport Notification from \"./Notification\";\nimport Footer from \"./Footer\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterName, setFilterName] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [tip, setTip] = useState(\"confirm\");\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n  const fet = () => {\n    console.log(\"start\");\n    personService.getAll().then((response) => {\n      console.log(\"fulfilled\");\n      // console.log(response)\n      setPersons(response);\n    });\n  };\n\n  useEffect(fet, []);\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setFilterName(event.target.value);\n  };\n\n  const filterItems = persons.filter((person) => {\n    return person.name.toLowerCase().includes(filterName.toLowerCase());\n  });\n  const addNote = (event) => {\n    event.preventDefault();\n\n    const noteObject = {\n      name: newName,\n      // id: newName,\n      number: newNumber,\n    };\n\n    if (persons.find((person) => person.name === noteObject.name)) {\n      const note = persons.find((person) => person.name === noteObject.name);\n      if (\n        window.confirm(\n          `${noteObject.name} is already added to phonebook. Do you want to update the number?`\n        )\n      ) {\n        personService\n          .update(note.id, noteObject)\n          .then((response) => {\n            console.log(response);\n            setPersons(\n              persons.map((person) =>\n                person.id !== response.id ? person : response\n              )\n            );\n            setMessage(`Number for ${note.name} has been updated`);\n            setTip(\"confirm\");\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            setTip(\"error\");\n            setMessage(`${error.response.data.error}`);\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          });\n      }\n\n      return;\n    }\n    personService\n      .create(noteObject)\n      .then((response) => {\n        console.log(response);\n        setPersons(response);\n        setMessage(`${response[response.length - 1].name} has been added`);\n        setTip(\"confirm\");\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      })\n      .catch((error) => {\n        setTip(\"error\");\n        setMessage(`${error.response.data.error}`);\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      });\n\n    // setPersons(persons.concat(noteObject))\n  };\n  const removeEntry = (id, nameCurrent) => {\n    if (window.confirm(`Do you really want to delete ${nameCurrent}?`)) {\n      personService\n        .remove(id)\n        .then((response) => {\n          console.log(response);\n          setPersons(persons.filter((person) => person.id !== id));\n          console.log(setPersons);\n          setMessage(`${nameCurrent} has been removed`);\n          setTip(\"confirm\");\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setMessage(`${nameCurrent} has already been removed`);\n          setTip(\"error\");\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n          setPersons(persons.filter((person) => person.id !== id));\n        });\n    }\n  };\n\n  return (\n    <div className=\"pancake\">\n      <header className=\"nav\">\n        <h1 id=\"basic\">Phonebook</h1>\n      </header>\n      <main>\n        <div id=\"notif\">\n          <Notification message={message} tip={tip} />\n        </div>\n        {\n          <Filter\n            filterName={filterName}\n            handleFilterChange={handleFilterChange}\n          />\n        }\n        <br />\n        <h2>Add a new member</h2>\n        {\n          <PersonForm\n            addNote={addNote}\n            newName={newName}\n            newNumber={newNumber}\n            handleNameChange={handleNameChange}\n            handleNumberChange={handleNumberChange}\n          />\n        }\n        <br />\n        {/* <div>debug: {newName}</div> */}\n        <h1>Numbers</h1>\n        <div class=\"arr\">\n          {filterItems.map((person) => (\n            <div>\n              <Person person={person} />\n              <button onClick={() => removeEntry(person.id, person.name)}>\n                delete\n              </button>\n            </div>\n          ))}\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}